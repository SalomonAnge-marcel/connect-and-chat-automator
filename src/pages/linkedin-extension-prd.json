{
    "name": "LinkedIn Cookie Connector",
    "version": "1.0.0",
    "description": "A Chrome extension that securely retrieves the user's LinkedIn session cookie (li_at) and sends it to a Supabase backend when the user clicks 'Connect LinkedIn'.",
    "manifest_version": 3,
    "core_functionality": "Extract LinkedIn 'li_at' cookie and report it to Supabase securely",
    "architecture": {
      "popup.html": {
        "purpose": "User interface with a single button to initiate the cookie fetch",
        "components": ["'Connect LinkedIn' button", "Status area (e.g., success or error message)"]
      },
      "popup.js": {
        "purpose": "Handles click event from popup.html and communicates with background service worker"
      },
      "service_worker.js": {
        "purpose": "Uses chrome.cookies API to retrieve the 'li_at' cookie and sends it via fetch to Supabase endpoint"
      },
      "manifest.json": {
        "permissions": [
          "cookies",
          "tabs",
          "scripting",
          "storage"
        ],
        "host_permissions": [
          "https://www.linkedin.com/",
          "https://YOUR-SUPABASE-API-ENDPOINT.com/*"
        ],
        "background": {
          "service_worker": "service_worker.js"
        },
        "action": {
          "default_popup": "popup.html"
        }
      }
    },
    "backend_integration": {
      "api_url": "https://YOUR-SUPABASE-API-ENDPOINT.com/api/store-liat",
      "method": "POST",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "li_at": "<cookie_value>",
        "timestamp": "<ISO_timestamp>"
      },
      "expected_success_response": {
        "status": "success",
        "message": "Cookie stored successfully"
      }
    },
    "ui_behavior": {
      "on_click_connect": "Trigger service worker to retrieve 'li_at' cookie and send to Supabase",
      "on_success": "Display ✅ Cookie sent successfully",
      "on_error": "Display ❌ Could not send cookie"
    },
    "security_notes": {
      "do_not_expose_cookie": "li_at should never be logged in the console or shown to user",
      "network": "Only send over HTTPS",
      "storage": "Do not store locally in chrome.storage or localStorage"
    },
    "future_extensions": [
      "Add OAuth flow or session validation",
      "Show last synced time in popup UI",
      "Support optional encrypted storage in Supabase"
    ]
  }  